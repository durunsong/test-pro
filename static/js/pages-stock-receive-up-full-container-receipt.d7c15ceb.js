(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-stock-receive-up-full-container-receipt"],{"0c85":function(t,e,n){"use strict";n.r(e);var i=n("c245"),a=n("53ca");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("1dfd");var r=n("828b"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"2a85ab7d",null,!1,i["a"],void 0);e["default"]=s.exports},"0d27":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa");var i={name:"UniNumberBox",emits:["change","input","update:modelValue","blur","focus"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},background:{type:String,default:"#f5f5f5"},color:{type:String,default:"#333"},disabled:{type:Boolean,default:!1}},data:function(){return{inputValue:0}},watch:{value:function(t){this.inputValue=+t},modelValue:function(t){this.inputValue=+t}},created:function(){1===this.value&&(this.inputValue=+this.modelValue),1===this.modelValue&&(this.inputValue=+this.value)},methods:{_calcValue:function(t){if(!this.disabled){var e=this._getDecimalScale(),n=this.inputValue*e,i=this.step*e;if("minus"===t){if(n-=i,n<this.min*e)return;n>this.max*e&&(n=this.max*e)}if("plus"===t){if(n+=i,n>this.max*e)return;n<this.min*e&&(n=this.min*e)}this.inputValue=(n/e).toFixed(String(e).length-1),this.$emit("change",+this.inputValue),this.$emit("input",+this.inputValue),this.$emit("update:modelValue",+this.inputValue)}},_getDecimalScale:function(){var t=1;return~~this.step!==this.step&&(t=Math.pow(10,String(this.step).split(".")[1].length)),t},_onBlur:function(t){this.$emit("blur",t);var e=t.detail.value;if(e){e=+e,e>this.max?e=this.max:e<this.min&&(e=this.min);var n=this._getDecimalScale();this.inputValue=e.toFixed(String(n).length-1),this.$emit("change",+this.inputValue),this.$emit("input",+this.inputValue)}},_onFocus:function(t){this.$emit("focus",t)}}};e.default=i},"0e89":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={navbar:n("8905").default,uniEasyinput:n("9202").default,uniTable:n("4eee").default,uniTr:n("79ac").default,uniTh:n("7c7c").default,uniTd:n("d678").default,uniNumberBox:n("0c85").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"stockReceive-container"},[n("navbar",{attrs:{"back-type":"button",title:t.$t("stock_receive.full_container_receipt")}}),n("v-uni-view",{staticClass:"input-group-container"},[n("v-uni-view",{staticClass:"input-group"},[n("v-uni-view",{staticClass:"label"},[t._v(t._s(t.$t("stock_receive_detail.third_purchase_no"))+":")]),n("uni-easyinput",{staticClass:"input-container",attrs:{placeholder:t.$t("stock_receive_detail.enterThirdPurchaseNo"),trim:"true"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSearch.apply(void 0,arguments)}},model:{value:t.consigneesData.third_purchase_no,callback:function(e){t.$set(t.consigneesData,"third_purchase_no",e)},expression:"consigneesData.third_purchase_no"}})],1),n("v-uni-view",{staticClass:"input-group"},[n("v-uni-view",{staticClass:"label"},[t._v(t._s(t.$t("stock_receive_detail.box_no"))+":")]),n("uni-easyinput",{staticClass:"input-container",attrs:{placeholder:t.$t("stock_receive_detail.enterBoxNo"),trim:"true"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSearch.apply(void 0,arguments)}},model:{value:t.consigneesData.box_no,callback:function(e){t.$set(t.consigneesData,"box_no",e)},expression:"consigneesData.box_no"}})],1),n("v-uni-view",{staticClass:"input-group"},[n("v-uni-view",{staticClass:"label"},[t._v(t._s(t.$t("stock_receive_detail.positions"))+":")]),n("uni-easyinput",{staticClass:"input-container",attrs:{placeholder:t.$t("stock_receive_detail.enterPositions"),trim:"true"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.handleSearch.apply(void 0,arguments)}},model:{value:t.consigneesData.position,callback:function(e){t.$set(t.consigneesData,"position",e)},expression:"consigneesData.position"}})],1)],1),n("v-uni-view",{staticClass:"table-container",staticStyle:{"margin-bottom":"150rpx"}},[n("v-uni-view",{staticClass:"table-container-title"},[t._v(t._s(t.$t("stock_receive_detail.skuInfo")))]),n("uni-table",{attrs:{border:!0,emptyText:t.$t("stock_receive_detail.noData")}},[n("uni-tr",t._l(t.translatedTableColumns,(function(e,i){return n("uni-th",{key:i,attrs:{align:"center"}},[t._v(t._s(e.title))])})),1),t._l(t.getPackageSkuListResults,(function(e,i){return n("uni-tr",{key:i},[n("uni-td",{attrs:{align:"center"}},[t._v(t._s(e.sku))]),n("uni-td",{attrs:{align:"center"}},[t._v(t._s(e.inventory))]),n("uni-td",{attrs:{align:"center"}},[n("v-uni-view",{staticClass:"number-box-container"},[n("uni-number-box",{attrs:{value:e.enter_number,min:0,max:e.inventory||999},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),function(e){return t.changeEnterNumber(e,i)}.apply(void 0,arguments)}}})],1)],1)],1)}))],2)],1),n("v-uni-view",{staticClass:"footer-container"},[n("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleConfirmationReceipt.apply(void 0,arguments)},mousedown:function(e){e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[t._v(t._s(t.$t("stock_receive_detail.confirm_receipt")))])],1)],1)},o=[]},1750:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("9b1b"));n("0c26"),n("fd3c"),n("d4b5"),n("64aa");var o={data:function(){return{consigneesData:{third_purchase_no:"",box_no:"",position:""},getPackageSkuListResults:[]}},computed:{translatedTableColumns:function(){return[{title:this.$t("stock_receive_detail.sku"),key:"sku"},{title:this.$t("stock_receive_detail.number_of_shipments"),key:"number_of_shipments"},{title:this.$t("stock_receive_detail.confirm_num"),key:"confirm_num"}]}},onLoad:function(t){if(t.data)try{var e=JSON.parse(decodeURIComponent(t.data));this.consigneesData=e}catch(n){uni.showToast({title:this.$t("stock_receive_detail.param_parse_error"),icon:"none",duration:2e3})}},methods:{handleScanComplete:function(t){var e=this.consigneesData[t].trim();this.consigneesData[t]=e,this.handleSearch()},handleConfirmationReceipt:function(){var t=this;if(this.consigneesData.third_purchase_no&&this.consigneesData.third_purchase_no.trim())if(this.consigneesData.box_no&&this.consigneesData.box_no.trim())if(this.consigneesData.position&&this.consigneesData.position.trim()){var e=this.getPackageSkuListResults.map((function(t){return{sku:t.sku,enter_number:t.enter_number}})),n=(0,a.default)((0,a.default)({},this.consigneesData),{},{full_box:1,unusual_confirm:0,data:JSON.stringify(e)});this.$apis.postReceive(n).then((function(e){0===e.code?(uni.showToast({title:e.msg,icon:"success"}),t.consigneesData={third_purchase_no:"",box_no:""},t.getPackageSkuListResults=[],uni.navigateBack()):uni.showToast({title:e.msg,icon:"none"})})).catch((function(e){uni.showToast({title:e.msg||t.$t("stock_receive_detail.requestFailed"),icon:"none"})}))}else uni.showToast({title:this.$t("stock_receive_detail.validation_positions_required"),icon:"none",duration:1e3});else uni.showToast({title:this.$t("stock_receive_detail.var_box_no_required"),icon:"none",duration:1e3});else uni.showToast({title:this.$t("stock_receive_detail.var_third_purchase_no_required"),icon:"none",duration:1e3})},handleSearch:function(){var t=this;if(this.consigneesData.third_purchase_no&&this.consigneesData.third_purchase_no.trim())if(this.consigneesData.box_no&&this.consigneesData.box_no.trim())if(this.consigneesData.position&&this.consigneesData.position.trim()){var e=Array.isArray(this.getPackageSkuListResults)?this.getPackageSkuListResults.map((function(t){return{sku:t.sku,enter_number:t.enter_number}})):[],n=(0,a.default)((0,a.default)({},this.consigneesData),{},{full_box:1,unusual_confirm:0,data:JSON.stringify(e)});this.$apis.getpackageskulist((0,a.default)({},n)).then((function(e){0===e.code?(t.isShowFooter=!1,t.getPackageSkuListResults=e.data.list.map((function(t){var e=void 0!==t.enter_number&&null!==t.enter_number?t.enter_number:0;return(0,a.default)((0,a.default)({},t),{},{enter_number:e})}))):uni.showToast({title:e.msg||t.$t("stock_receive_detail.searchFailure"),icon:"none"})})).catch((function(e){uni.showToast({title:e.msg||t.$t("stock_receive_detail.requestFailed"),icon:"none"})}))}else uni.showToast({title:this.$t("stock_receive_detail.validation_positions_required"),icon:"none",duration:1e3});else uni.showToast({title:this.$t("stock_receive_detail.var_box_no_required"),icon:"none",duration:1e3});else uni.showToast({title:this.$t("stock_receive_detail.var_third_purchase_no_required"),icon:"none",duration:1e3})},changeEnterNumber:function(t,e){this.getPackageSkuListResults[e].enter_number=Number(t)}}};e.default=o},"1dfd":function(t,e,n){"use strict";var i=n("62cc"),a=n.n(i);a.a},"44d4":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */*[data-v-2a85ab7d]{-webkit-box-sizing:border-box;box-sizing:border-box}uni-button.primary[data-v-2a85ab7d]{background-color:#000}uni-button[type=primary][data-v-2a85ab7d]{background-color:#000}.uni-forms-item[data-v-2a85ab7d]{margin-bottom:%?40?%}.uni-forms .label[data-v-2a85ab7d]{display:block;margin-bottom:5px;color:#333;font-size:14px}[data-v-2a85ab7d] uni-button{border-radius:0}[data-v-2a85ab7d] uni-button:after{border-radius:0}.uni-numbox[data-v-2a85ab7d]{display:flex;flex-direction:row}.uni-numbox-btns[data-v-2a85ab7d]{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:0 8px;background-color:#f5f5f5;cursor:pointer}.uni-numbox__value[data-v-2a85ab7d]{margin:0 2px;background-color:#f5f5f5;width:40px;height:26px;text-align:center;font-size:14px;border-left-width:0;border-right-width:0;color:#333}.uni-numbox__minus[data-v-2a85ab7d]{border-top-left-radius:2px;border-bottom-left-radius:2px}.uni-numbox__plus[data-v-2a85ab7d]{border-top-right-radius:2px;border-bottom-right-radius:2px}.uni-numbox--text[data-v-2a85ab7d]{line-height:20px;font-size:20px;font-weight:300;color:#333}.uni-numbox .uni-numbox--disabled[data-v-2a85ab7d]{color:silver!important;cursor:not-allowed}',""]),t.exports=e},"53ca":function(t,e,n){"use strict";n.r(e);var i=n("0d27"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"5b98":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */*[data-v-e18a7168]{-webkit-box-sizing:border-box;box-sizing:border-box}uni-button.primary[data-v-e18a7168]{background-color:#000}uni-button[type=primary][data-v-e18a7168]{background-color:#000}.uni-forms-item[data-v-e18a7168]{margin-bottom:%?40?%}.uni-forms .label[data-v-e18a7168]{display:block;margin-bottom:5px;color:#333;font-size:14px}[data-v-e18a7168] uni-button{border-radius:0}[data-v-e18a7168] uni-button:after{border-radius:0}.stockReceive-container[data-v-e18a7168]{width:100%;height:100%}.stockReceive-container .footer-container[data-v-e18a7168]{display:flex;align-items:center;justify-content:center;position:fixed;bottom:0;left:0;width:100%;height:%?140?%;background:#fff}.stockReceive-container .footer-container .btn[data-v-e18a7168]{background-color:#169bd5;color:#fff;width:40%;height:%?80?%;border-radius:%?10?%;display:flex;align-items:center;justify-content:center}.stockReceive-container .table-container[data-v-e18a7168]{margin-top:%?60?%;padding:%?4?%;box-sizing:border-box}.stockReceive-container .table-container .table-container-title[data-v-e18a7168]{display:flex;align-items:center;justify-content:center;box-sizing:border-box;background:#f0f0f0;height:%?90?%;font-size:%?34?%}.stockReceive-container .input-group-container[data-v-e18a7168]{width:100%;padding:0 %?30?%;box-sizing:border-box;margin-top:%?30?%}.stockReceive-container .input-group-container .input-group[data-v-e18a7168]{display:flex;align-items:center;margin-bottom:%?20?%}.stockReceive-container .input-group-container .input-group .label[data-v-e18a7168]{width:%?120?%;font-size:%?28?%;color:#333}.stockReceive-container .input-group-container .input-group .input-container[data-v-e18a7168]{flex:1;margin-left:%?10?%}[data-v-e18a7168]:deep(.uni-easyinput__content){height:%?80?%;border:#333 solid 1px!important;border-radius:0!important}[data-v-e18a7168]:deep(.uni-easyinput__content-input){height:%?80?%;padding:0 %?10?%}\r\n/* 添加数字输入框容器样式 */.number-box-container[data-v-e18a7168]{display:flex;justify-content:center;align-items:center;width:100%}\r\n/* 优化数字输入框样式 */[data-v-e18a7168]:deep(.uni-numbox){height:%?60?%;width:%?180?%;border:1px solid #dcdfe6;border-radius:%?4?%}[data-v-e18a7168]:deep(.uni-numbox__value){height:%?60?%;font-size:%?28?%;color:#333;background-color:#fff;border-left:1px solid #dcdfe6;border-right:1px solid #dcdfe6;border-top:none;border-bottom:none}[data-v-e18a7168]:deep(.uni-numbox__minus),[data-v-e18a7168]:deep(.uni-numbox__plus){height:%?60?%;width:%?60?%;font-size:%?28?%;background-color:#169bd5;\r\n  /* 使用蓝色主题 */color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease\r\n  /* 禁用状态样式 */\r\n  /* 点击状态样式 */}:deep(.uni-numbox__minus).is-disabled[data-v-e18a7168], :deep(.uni-numbox__plus).is-disabled[data-v-e18a7168]{background-color:#a0d8f0;\r\n  /* 浅蓝色 */color:#fff}[data-v-e18a7168]:deep(.uni-numbox__minus):active:not(.is-disabled),[data-v-e18a7168]:deep(.uni-numbox__plus):active:not(.is-disabled){background-color:#1383b3\r\n  /* 深蓝色 */}[data-v-e18a7168]:deep(.uni-numbox__minus){border-radius:%?4?% 0 0 %?4?%}[data-v-e18a7168]:deep(.uni-numbox__plus){border-radius:0 %?4?% %?4?% 0}',""]),t.exports=e},"62cc":function(t,e,n){var i=n("44d4");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("8eb3ecb8",i,!0,{sourceMap:!1,shadowMode:!1})},"6a03":function(t,e,n){"use strict";n.r(e);var i=n("0e89"),a=n("825f");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("96c4");var r=n("828b"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"e18a7168",null,!1,i["a"],void 0);e["default"]=s.exports},8161:function(t,e,n){var i=n("5b98");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("120ae417",i,!0,{sourceMap:!1,shadowMode:!1})},"825f":function(t,e,n){"use strict";n.r(e);var i=n("1750"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"96c4":function(t,e,n){"use strict";var i=n("8161"),a=n.n(i);a.a},c245:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-numbox"},[n("v-uni-view",{staticClass:"uni-numbox__minus uni-numbox-btns",style:{background:t.background},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._calcValue("minus")}}},[n("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":t.inputValue<=t.min||t.disabled},style:{color:t.color}},[t._v("-")])],1),n("v-uni-input",{staticClass:"uni-numbox__value",style:{background:t.background,color:t.color},attrs:{disabled:t.disabled,type:"number"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t._onFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t._onBlur.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),n("v-uni-view",{staticClass:"uni-numbox__plus uni-numbox-btns",style:{background:t.background},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._calcValue("plus")}}},[n("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":t.inputValue>=t.max||t.disabled},style:{color:t.color}},[t._v("+")])],1)],1)},a=[]}}]);